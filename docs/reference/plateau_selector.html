<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>IPW Estimator Selector Using Lepski's Plateau Method for the MSE — plateau_selector • haldensify</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/readable/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="IPW Estimator Selector Using Lepski's Plateau Method for the MSE — plateau_selector"><meta property="og:description" content="IPW Estimator Selector Using Lepski's Plateau Method for the MSE"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">haldensify</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.2.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/intro_haldensify.html">Highly Adaptive Lasso Conditional Density Estimation</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/nhejazi/haldensify/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>IPW Estimator Selector Using Lepski's Plateau Method for the MSE</h1>
    <small class="dont-index">Source: <a href="https://github.com/nhejazi/haldensify/blob/HEAD/R/selector_plateau.R" class="external-link"><code>R/selector_plateau.R</code></a></small>
    <div class="hidden name"><code>plateau_selector.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>IPW Estimator Selector Using Lepski's Plateau Method for the MSE</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">plateau_selector</span><span class="op">(</span>
  <span class="va">W</span>,
  <span class="va">A</span>,
  <span class="va">Y</span>,
  delta <span class="op">=</span> <span class="fl">0</span>,
  <span class="va">gn_pred_natural</span>,
  <span class="va">gn_pred_shifted</span>,
  <span class="va">gn_fit_haldensify</span>,
  <span class="va">Qn_pred_natural</span>,
  <span class="va">Qn_pred_shifted</span>,
  cv_folds <span class="op">=</span> <span class="fl">10L</span>,
  gcv_mult <span class="op">=</span> <span class="fl">50L</span>,
  bootstrap <span class="op">=</span> <span class="cn">FALSE</span>,
  n_boot <span class="op">=</span> <span class="fl">1000L</span>,
  <span class="va">...</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>W</dt>
<dd><p>A <code>matrix</code>, <code>data.frame</code>, or similar containing a set of
baseline covariates.</p></dd>
<dt>A</dt>
<dd><p>A <code>numeric</code> vector corresponding to a exposure variable. The
parameter of interest is defined as a location shift of this quantity.</p></dd>
<dt>Y</dt>
<dd><p>A <code>numeric</code> vector of the observed outcomes.</p></dd>
<dt>delta</dt>
<dd><p>A <code>numeric</code> value indicating the shift in the exposure to
be used in defining the target parameter. This is defined with respect to
the scale of the exposure (A).</p></dd>
<dt>gn_pred_natural</dt>
<dd><p>A <code>matrix</code> of conditional density estimates of
the exposure mechanism g(A|W) along a grid of the regularization parameter,
at the natural (observed, actual) values of the exposure.</p></dd>
<dt>gn_pred_shifted</dt>
<dd><p>A <code>matrix</code> of conditional density estimates of
the exposure mechanism g(A+delta|W) along a grid of the regularization
parameter, at the shifted (counterfactual) values of the exposure.</p></dd>
<dt>gn_fit_haldensify</dt>
<dd><p>An object of class <code>haldensify</code> of the fitted
conditional density model for the natural exposure mechanism. This should
be the fit object returned by <code><a href="haldensify.html">haldensify</a>[haldensify]</code> as part
of a call to <code><a href="ipw_shift.html">ipw_shift</a></code>.</p></dd>
<dt>Qn_pred_natural</dt>
<dd><p>A <code>numeric</code> of the outcome mechanism estimate at
the natural (i.e., observed) values of the exposure. HAL regression is used
for the estimate, with the regularization term chosen by cross-validation.</p></dd>
<dt>Qn_pred_shifted</dt>
<dd><p>A <code>numeric</code> of the outcome mechanism estimate at
the shifted (i.e., counterfactual) values of the exposure. HAL regression
is used for the estimate, with the regularization term chosen by
cross-validation.</p></dd>
<dt>cv_folds</dt>
<dd><p>A <code>numeric</code> giving the number of folds to be used for
cross-validation. Note that this form of sample splitting is used for the
selection of tuning parameters by empirical risk minimization, not for the
estimation of nuisance parameters (i.e., to relax regularity conditions).</p></dd>
<dt>gcv_mult</dt>
<dd><p>TODO</p></dd>
<dt>bootstrap</dt>
<dd><p>A <code>logical</code> indicating whether the estimator variance
should be approximated using the nonparametric bootstrap. The default is
<code>FALSE</code>, in which case the empirical variances of the IPW estimating
function and the EIF are used for for estimator selection and for variance
estimation, respectively. When set to <code>TRUE</code>, the bootstrap variance
is used for both of these purposes instead. Note that the bootstrap is very
computationally intensive and scales relatively poorly.</p></dd>
<dt>n_boot</dt>
<dd><p>A <code>numeric</code> giving the number of bootstrap re-samples to
be used in computing the plateau estimator selection criterion. The default
uses 1000 bootstrap samples, though it may be appropriate to use fewer such
samples for experimentation purposes. This is ignored when <code>bootstrap</code>
is set to <code>FALSE</code> (its default).</p></dd>
<dt>...</dt>
<dd><p>Additional arguments for model fitting to be passed directly to
<code><a href="haldensify.html">haldensify</a></code>.</p></dd>
</dl></div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Nima Hejazi, David Benkeser, Mark van der Laan.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer></div>

  


  

  </body></html>

